
<br>

### As you go through the lectures and material for each day take notes in the provided sections. Not every detail is covered in this file. It's up to you to fill out this document with what you've learned as well as important material from lectures and videos.

<br>

# Tuesday, W15, D2

## REDUX, ACTIONS, REDUCERS

<br>
<hr>

## What is Redux?

- Redux is a library that manages global state by creating a "single source of truth" for application state. It is just a single state object that is essentially a tree. Methods are used to interact with the data in the tree. We call top level keys of this state tree "slices".
- Redux is used to maintain a large amount of data coming from a server. It is not used to manage local data originating from your client's computer. That local data would be better managed by hoisting your state. Small applications should never need Redux; a fully featured e-commerce site **might** need Redux. We teach you Redux at App Academy because you will be applying to companies large and small. Knowing the principles of state management and is vital and Redux proficiency sets you apart from other web developers.
- The latest Redux techniques use a language called TypeScript and a library called Immer which are out of the scope of App Academy. Therefore, you should not use the redux template with `create-react-app`. Re-use the Redux code provided by our projects and starters. We use Redux v4 and react-redux v7.
- The Redux setup code we give you is boilerplate and should be copied and pasted into your Redux projects. As long as you know what the functions are doing on a high level you will be fine. After you graduate go through the [docs](https://redux.js.org/tutorials/fundamentals/part-4-store#introduction) to better understand how Redux works.
- Use the Redux DevTools Extension to view your state tree in the browser. This extension will help you track actions taken with your state as well as enable you to visualize how your data flows through Redux.


```js
import { createStore, combineReducers } from 'react-redux';

// this is the top of the state tree and what you see in Redux Dev Tools
const rootReducer = combineReducers({

    // your database data lives here
    slice1: {
        // ...lots of data in here
     },
    slice2: {
        // ...lots of data in here
     },
    slice3: {
        // ...lots of data in here
     },
})

// the rest of redux setup is boilerplate:

// ... (middleware setup)

const configureStore = (preloadedState) => {
    return createStore(rootReducer, preloadedState, enhancer)
};

export default configureStore;
```

Extra Notes:

- < your notes here >

<br>
<hr>

## Important Methods in Redux

- These core methods make the Redux store:
  - `getState()`
  - `subscribe(callback)`
  - `dispatch(action)`
- Of the three above, you will use `dispatch(action)` the most. Here's a quick look at these methods.
- `getState()` just returns the current version of your state tree. This function is mainly used by other functions. But you can invoke it anytime you want to see what your state looks like. It returns the actual state tree. You can mutate the tree but never ever do so; mutating state breaks Redux as well as React. Treat `getState()` as read only.
- `subscribe(callback)` allows you register a function to be called if the store updates. It will be put in an array that holds all the subscriptions. These subscriptions functions come from `useSelector` hooks and are how Redux informs React to rerender your components. Like `getState`, `subscribe` is mostly used by other libraries and you won't be directly calling it.
- `dispatch(action)` is the workhorse of Redux. This function is how you insert data into the store, and this function also invokes all your subscription functions when the store updates. If your reducers are built properly, your subscriptions cause your React components to rerender.
**Put simply, calling dispatch in your React component leads to a rerender. This means that when your database changes, your website changes with it.**
- `dispatch` is your bread and butter.

Syntax:

```js
    // in React's index.js
    import { configureStore } from './store';

    const store = configureStore(); // store = { getState, subscribe, dispatch }
    // store is the core of Redux

    // insert the store into the window object to test without React

```

Extra Notes:

- < your notes here >

<br>
<hr>

## What is JSX?

- JSX is a language made for react to enable declarative programming of ui. It is written like HTML and has similar tags.
- A compiler library called Babel compiles JSX into React functions that create HTML for your browser to display.
- Use braces within JSX to use JavaScript.

Syntax:

- `<h1>My Awesome H1</h1>`
- `<ReactComponent newKey={propValue}></ReactComponent>`
- `<div>{variableOrExpressionWithReturn}</div>`

Extra Notes:

- < your notes here >

<br>
<hr>

## What are Component Props?

- React components are functions, and react calls these functions with one argument: a props object. We can define new key value pairs in this props object within JSX.  Props' keys are optionally deconstructed when the component is defined.

Syntax:

```js
function ReactComponent(propsObject){
    const { data } = propsObject
    return (
        <h1>{data}</h1>
    )
}
```

Extra Notes:

- < your notes here >

<br>
<hr>

## What is React Router?

- A library that keeps react components in sync with the url. It manages window location and dynamic route matching, and more.
- **This curriculum uses React Router version 5**

Syntax:

```js
function App({ data }){
    return (
        <BrowserRouter>
            <Switch>
                <Route exact path='/'>
                    <HomeComponent />
                </Route>
                <Route exact path='/profile/:userId'>
                    <ProfileComponent data={data} />
                </Route>
            </Switch>
        </BrowserRouter>
    )
}
```

Extra Notes:

- < your notes here >

<br>
<hr>

## What is the useParams hook from React Router and how does it allow you to use parameters in your route? What does it return?

- It enables you to extract wildcard values from your routes.
- `useParams()` returns an object with your route wildcard names as the key. We deconstruct the keys we need in our component.

Syntax:

- `const { userId } = useParams();`

Extra Notes:

- < your notes here >

<br>
<hr>

## What tools do you have to redirect a user?

- Redirect component
- useHistory hook

Syntax:

```js
function ProfileComponent({ user }){

    const history = useHistory();

    const handleClick = (e) => {
        history.push('/');
        }

    if(!user) return <Redirect to='/login' />

    return (
        <>
            <div>Hi from Profile Page!</div>
            <button onClick={handleClick}>click me to go home!</button>
        </butt>
    )
}
```

Extra Notes:

- < your notes here >

<br>
<hr>

React documentation: [https://reactjs.org](https://reactjs.org)

Babel documentation: [https://babeljs.io/](https://babeljs.io/)

React Router documentation: [https://v5.reactrouter.com/web/api/](https://v5.reactrouter.com/web/api/)
